const { execSync  } = require('child_process');

// run this from F12
/*
Array.from(document.querySelectorAll('.bookpage--chapters .chapter__default--title')).map(title => {
	title.click();
	return document.querySelectorAll('audio[type="audio/mpeg"]')[1].getAttribute('src');
});
*/

const json = ["https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/01. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/01. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/01. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/01. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/01. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/02. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/02. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/02. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/02. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/03. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/03. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/03. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/03. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/03. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/04. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/04. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/04. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/04. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3","https://m17.akniga.club/b/52468/BnxdrGHRdRopmHIBnceq1A,,/05. Диспенза Джо - Сам себе плацебо: как использовать силу подсознания для здоровья и процветания.mp3"];

const http_proxy = process.env['http_proxy'];

for (const link of json) {
	console.log(link);
	execSync ('curl -O -k -proxy=' + http_proxy + ' "' + link + '"', (err, stdout, stderr) => {
	  if (err) {
	    // node couldn't execute the command
	    throw new Error(err);
	  }
	});
}